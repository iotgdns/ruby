<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>LEARN WITH RUBY</title>
    <link rel="stylesheet" href="./data/styles.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>
<body>
    <div id="area">
        <div class="container h-100">
            <div class="row h-100 justify-content-center align-items-center">
                <div class="col-8  card p-4">
                    <div class="card-header">
                        <h3 cass="text-center">Ruby Playground</h3>
                    </div>            
                    <hr>        
                    <div class="row">
                        <div class="col-6">
                            <input type="number" id='v1' class="form-control" placeholder="First Number">
                        </div>
                        <div class="col-6">
                            <input type="number" id='v2' class="form-control"  placeholder="Second Number">
                        </div>
                    </div>
                    
                    <br>
                    
                     <div class="row">
                        <div class="col-12" id="div_btn" >
                            
                              <button class="btn btn-primary" onclick="add()" style="width:100%">ADD</button>
                    <br>
                    <br>
                    <button class="btn btn-danger" onclick="sub()" style="width:100%">SUBSTRACT</button>
                    
                        </div>
                    </div>
                    

                    
                    
                    <hr>
                    <div id='ballList' class="alert alert-primary text-center"></div>
                    <div id='secondList'></div>
                    <div class="row">
                        <div class="col-12" id="step1_Txt" ></div>
                    </div>
                    <div class="row">
                        <div class="col-6" id="l1_Txt" ></div>
                        <div class="col-6" id="l2_Txt" ></div>
                    </div>
                    <div class="row">
                        <div class="col-5" id="l1"></div>
                        <div class="col-2" id="l0"></div>
                        <div class="col-5" id="l2"></div>
                    </div>
                    <hr>
                    <hr>
                    <div id="ll3_Txt"></div>
                    <div id="ll3"></div>
                    
                   
                </div>
            </div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript">
        $( document ).ready(function() {
            $('#calBtn').hide()
        });
        function add() {
            let v1 = Number($('#v1').val());
            let v2 = Number($('#v2').val());
            
            total = v1 + v2
            let s1 = AddBrackets(v1,1)
            let s2 = AddBrackets(v2,2)
            let ss = s1+' + '+s2+' = '+total
            
            var delayInMilliseconds = 2000;

            console.log(s1)
            console.log(s2)
            console.log(ss)

            $('#ballList').html(ss)
            $('#div_btn').html('<a href="https://ruby.pmkg.lk" class="btn btn-success" style="width:100%">RESET</a> ')

            
            $('#l1').html('')
            $('#l2').html('')
            $('#l0').html('<h1>+</h1>')
            $('#l1_Txt').html('<h5 class="text-center">First Number</h5>')
            $('#l2_Txt').html('<h5 class="text-center">Second Number</h5>')
            $('#step1_Txt').html('<h5 class="text-center">FIRST STEP</h5>')
            




            $('#ll1').html('')
            $('#ll2').html('')
            $('#ll3').html('')
            

            $('#lll1').html('')
            $('#lll2').html('')
            
            if((v1>0 && v2>0) || (v1<0 && v2<0)){
                console.warn('ekama');
                
                let r = v1+v2;
                let t = mPositive(r)
                if (r>0) {
                    console.table(['kola',r,t])
                    for (let i = 0; i < mPositive(v1); i++) {
                        $('#l1').append('<img src="./data/img/logoiconGreen.png">')      
                    }
                    for (let i = 0; i < mPositive(v2); i++) {
                        $('#l2').append('<img src="./data/img/logoiconGreen.png">')      
                    }
                     setTimeout(function() {
                         $('#ll3_Txt').html('<h5 class="text-center">ANSWER</h5>')
                    for (let i = 0; i < t; i++) {
                        $('#ll3').append('<img src="./data/img/logoiconGreen.png">')      
                    }
                    }, delayInMilliseconds);
                } else {
                    console.table(['rathu',r,t])
                    console.table(['kola',r,t])
                    for (let i = 0; i < mPositive(v1); i++) {
                        $('#l1').append('<img src="./data/img/logoiconRed.png">')      
                    }
                    for (let i = 0; i < mPositive(v2); i++) {
                        $('#l2').append('<img src="./data/img/logoiconRed.png">')         
                    }
                    setTimeout(function() {
                        $('#ll3_Txt').html('<h5 class="text-center">ANSWER</h5>')
                    for (let i = 0; i < t; i++) {
                        $('#ll3').append('<img src="./data/img/logoiconRed.png">')         
                    }
                    }, delayInMilliseconds);
                }
            } else {
                console.error('wenas')
                if (v1>0) {
                    for (let i = 0; i < mPositive(v1); i++) {
                        $('#l1').append('<img src="./data/img/logoiconGreen.png">')      
                    }
                } else {
                    for (let i = 0; i < mPositive(v1); i++) {
                        $('#l1').append('<img src="./data/img/logoiconRed.png">')         
                    } 
                }
                if (v2>0) {
                    for (let i = 0; i < mPositive(v2); i++) {
                        $('#l2').append('<img src="./data/img/logoiconGreen.png">')      
                    }
                } else {
                    for (let i = 0; i < mPositive(v2); i++) {
                        $('#l2').append('<img src="./data/img/logoiconRed.png">')         
                    } 
                }

                if (mPositive(v1)==mPositive(v2)) {
                    console.warn('keliya')
                    setTimeout(function() {
                                 $('#ll3_Txt').html('<h5 class="text-center">ANSWER IS ZERO</h5>')
                           
                            }, delayInMilliseconds);
                } else {
                    let t = v1+v2
                    let m = mPositive(t)
                    let n1 = mPositive(v1)
                    let n2 = mPositive(v2)
                    
                    setTimeout(function() {
                        $('#l1').html('')
                        $('#l2').html('')
                        
                        
                    if(n1>n2){
                        if(v1>0){
                            for (let i = 0; i < m; i++) {
                            $('#l1').append('<img src="./data/img/logoiconGreen.png">')       
                            }
                            for (let i = 0; i < n2; i++) {
                            $('#l1').append('<img src="./data/img/logoiconyellow.png">')       
                            }
                            for (let i = 0; i < n2; i++) {
                            $('#l2').append('<img src="./data/img/logoiconyellow.png">')       
                            }
                             setTimeout(function() {
                                 $('#ll3_Txt').html('<h5 class="text-center">ANSWER</h5>')
                            for (let i = 0; i < m; i++) {
                            $('#ll3').append('<img src="./data/img/logoiconGreen.png">')       
                            }
                            }, delayInMilliseconds);
                            
                        }else{
                            for (let i = 0; i < m; i++) {
                            $('#l1').append('<img src="./data/img/logoiconRed.png">')       
                            }
                            for (let i = 0; i < n2; i++) {
                            $('#l1').append('<img src="./data/img/logoiconyellow.png">')       
                            }
                            for (let i = 0; i < n2; i++) {
                            $('#l2').append('<img src="./data/img/logoiconyellow.png">')       
                            }
                             setTimeout(function() {
                                 $('#ll3_Txt').html('<h5 class="text-center">ANSWER</h5>')
                            for (let i = 0; i < m; i++) {
                            $('#ll3').append('<img src="./data/img/logoiconRed.png">')       
                            }
                            }, delayInMilliseconds);
                        }
                        
                        
                    }else{
                        
                        if(v2>0){
                            for (let i = 0; i < m; i++) {
                            $('#l2').append('<img src="./data/img/logoiconGreen.png">')       
                            }
                            for (let i = 0; i < n1; i++) {
                            $('#l2').append('<img src="./data/img/logoiconyellow.png">')       
                            }
                            for (let i = 0; i < n1; i++) {
                            $('#l1').append('<img src="./data/img/logoiconyellow.png">')       
                            }
                             setTimeout(function() {
                            for (let i = 0; i < m; i++) {
                            $('#ll3').append('<img src="./data/img/logoiconGreen.png">')       
                            }
                            }, delayInMilliseconds);
                            
                        }else{
                            for (let i = 0; i < m; i++) {
                            $('#l2').append('<img src="./data/img/logoiconRed.png">')       
                            }
                            for (let i = 0; i < n1; i++) {
                            $('#l2').append('<img src="./data/img/logoiconyellow.png">')       
                            }
                            for (let i = 0; i < n1; i++) {
                            $('#l1').append('<img src="./data/img/logoiconyellow.png">')       
                            }
                             setTimeout(function() {
                            for (let i = 0; i < m; i++) {
                            $('#ll3').append('<img src="./data/img/logoiconRed.png">')       
                            }
                            }, delayInMilliseconds);
                        }
                        
                    }
 
                    }, delayInMilliseconds);
                    
                }
            }
            $('#calBtn').fadeIn(2000)

        }
        
         function sub() {
            let v1 = Number($('#v1').val());
            let v2 = Number($('#v2').val());
            
            total = v1 - v2
            let s1 = AddBrackets(v1,1)
            let s2 = AddBrackets(v2,2)
            let ss = s1+' - '+s2+' = '+total
            
            var delayInMilliseconds = 1000;

            console.log(s1)
            console.log(s2)
            console.log(ss)

            $('#ballList').html(ss)
            $('#div_btn').html('<a href="https://ruby.pmkg.lk" class="btn btn-success" style="width:100%">RESET</a> ')

            
            $('#l1').html('')
            $('#l2').html('')
            $('#l0').html('<h1>-</h1>')
            $('#l1_Txt').html('<h5 class="text-center">First Number</h5>')
            $('#l2_Txt').html('<h5 class="text-center">Second Number</h5>')
            $('#step1_Txt').html('<h5 class="text-center">FIRST STEP</h5>')
            




            $('#ll1').html('')
            $('#ll2').html('')
            $('#ll3').html('')
            

            $('#lll1').html('')
            $('#lll2').html('')
            
            if((v1>0 && v2>0) || (v1<0 && v2<0)){
                console.warn('ekama');
                if (v1>0) {
                    for (let i = 0; i < mPositive(v1); i++) {
                        $('#l1').append('<img src="./data/img/logoiconGreen.png">')      
                    }
                } else {
                    for (let i = 0; i < mPositive(v1); i++) {
                        $('#l1').append('<img src="./data/img/logoiconRed.png">')         
                    } 
                }
                if (v2>0) {
                    for (let i = 0; i < mPositive(v2); i++) {
                        $('#l2').append('<img src="./data/img/logoiconGreen.png">')      
                    }
                } else {
                    for (let i = 0; i < mPositive(v2); i++) {
                        $('#l2').append('<img src="./data/img/logoiconRed.png">')         
                    } 
                }

                if (mPositive(v1)==mPositive(v2)) {
                    console.warn('keliya')
                    setTimeout(function() {
                                 $('#ll3_Txt').html('<h5 class="text-center">ANSWER IS ZERO</h5>')
                           
                            }, delayInMilliseconds);
                } else {
                    let t = v1-v2
                    let m = mPositive(t)
                    let n1 = mPositive(v1)
                    let n2 = mPositive(v2)
                    
                    setTimeout(function() {
                        $('#l1').html('')
                        $('#l2').html('')
                        
                        
                    if(n1>n2){
                        if(v1>0){
                            for (let i = 0; i < m; i++) {
                            $('#l1').append('<img src="./data/img/logoiconGreen.png">')       
                            }
                            for (let i = 0; i < n2; i++) {
                            $('#l1').append('<img src="./data/img/logoiconyellow.png">')       
                            }
                            for (let i = 0; i < n2; i++) {
                            $('#l2').append('<img src="./data/img/logoiconyellow.png">')       
                            }
                            setTimeout(function() {
                                 $('#ll3_Txt').html('<h5 class="text-center">ANSWER</h5>')
                            for (let i = 0; i < m; i++) {
                            $('#ll3').append('<img src="./data/img/logoiconGreen.png">')       
                            }
                            }, delayInMilliseconds);
                            
                        }else{
                            for (let i = 0; i < m; i++) {
                            $('#l1').append('<img src="./data/img/logoiconRed.png">')       
                            }
                            for (let i = 0; i < n2; i++) {
                            $('#l1').append('<img src="./data/img/logoiconyellow.png">')       
                            }
                            for (let i = 0; i < n2; i++) {
                            $('#l2').append('<img src="./data/img/logoiconyellow.png">')       
                            }
                             setTimeout(function() {
                                 $('#ll3_Txt').html('<h5 class="text-center">ANSWER</h5>')
                            for (let i = 0; i < m; i++) {
                            $('#ll3').append('<img src="./data/img/logoiconRed.png">')       
                            }
                            }, delayInMilliseconds);
                        }
                        
                        
                    }else{
                        
                        if(v2>0){
                            for (let i = 0; i < m; i++) {
                            $('#l2').append('<img src="./data/img/logoiconGreen.png">')       
                            }
                            for (let i = 0; i < n1; i++) {
                            $('#l2').append('<img src="./data/img/logoiconyellow.png">')       
                            }
                            for (let i = 0; i < n1; i++) {
                            $('#l1').append('<img src="./data/img/logoiconyellow.png">')       
                            }
                             setTimeout(function() {
                            for (let i = 0; i < m; i++) {
                            $('#ll3').append('<img src="./data/img/logoiconRed.png">')       
                            }
                            }, delayInMilliseconds);
                            
                        }else{
                            for (let i = 0; i < m; i++) {
                            $('#l2').append('<img src="./data/img/logoiconRed.png">')       
                            }
                            for (let i = 0; i < n1; i++) {
                            $('#l2').append('<img src="./data/img/logoiconyellow.png">')       
                            }
                            for (let i = 0; i < n1; i++) {
                            $('#l1').append('<img src="./data/img/logoiconyellow.png">')       
                            }
                             setTimeout(function() {
                            for (let i = 0; i < m; i++) {
                            $('#ll3').append('<img src="./data/img/logoiconGreen.png">')       
                            }
                            }, delayInMilliseconds);
                        }
                        
                    }
 
                    }, delayInMilliseconds);
                    
                }
                
   
            } else {
                console.error('wenas')
                
                let r = v1-v2;
                let t = mPositive(r)
                
                if (v1>0) {
                    console.table(['kola',r,t])
                    for (let i = 0; i < mPositive(v1); i++) {
                        $('#l1').append('<img src="./data/img/logoiconGreen.png">')      
                    }
                    for (let i = 0; i < mPositive(v2); i++) {
                        $('#l2').append('<img src="./data/img/logoiconRed.png">')      
                    }
                    
                } else {
                    console.table(['rathu',r,t])
                    console.table(['kola',r,t])
                    
                    for (let i = 0; i < mPositive(v1); i++) {
                        $('#l1').append('<img src="./data/img/logoiconRed.png">')      
                    }
                    for (let i = 0; i < mPositive(v2); i++) {
                        $('#l2').append('<img src="./data/img/logoiconGreen.png">')         
                    }
                    
                }
                setTimeout(function() {
                    if(r>0){
                    $('#ll3_Txt').html('<h5 class="text-center">ANSWER</h5>')
                    for (let i = 0; i < t; i++) {
                        $('#ll3').append('<img src="./data/img/logoiconGreen.png">')         
                    }
                        
                    }else{
                        $('#ll3_Txt').html('<h5 class="text-center">ANSWER</h5>')
                    for (let i = 0; i < t; i++) {
                        $('#ll3').append('<img src="./data/img/logoiconRed.png">')         
                    }
                    }
                    
                    
                     
                }, delayInMilliseconds);
                
                
            }
            $('#calBtn').fadeIn(1000)

        }
        
        
        function AddBrackets(v,i) {
            if(v < 0) {
                console.error('Negative Value : '+ v)
                negative = i
                return '('+v+')'
            } else {
                return v
            } 
        }

        function mPositive(v) {
            if(v < 0) {
                return v * -1
            } else {
                return v
            }
        }
        function renderBalls(place, v, color) {
            for (let i = 0; i < v; i++) {
                $('#'+place).append('<span class="dot '+color+'"></span>')      
            } 
        }
    </script>

</body>
</html>